!!!5
%html
  %head
    %meta{ :charset=>'utf-8' }
    %title
      #{page.title}
    %meta{ :name=>'viewport', :content=>'width=device-width, initial-scale=1.0' }
    =partial( 'styles.html.haml' );
  %body
    .navbar.navbar-inverse.navbar-fixed-top{role: "navigation"}
      .container-fluid
        .navbar-header
          %button.navbar-toggle{"data-target" => ".navbar-collapse", "data-toggle" => "collapse", type: "button"}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{href: "/"} OpenShift Developer Center
        .navbar-collapse.collapse
          %ul.nav.navbar-nav.navbar-right
            %li
              %a{href: "#"} Documentation
            %li
              %a{href: "#"} Support
          %form.navbar-form.navbar-right
            %input.form-control{placeholder: "Search...", type: "text"}/
            / /.nav-collapse
    .container-fluid
      .row
        .col-sm-3.col-md-2.sidebar
          %ul.nav.nav-sidebar
            - site.pages.reject{|p| p.category.nil?}.group_by(&:category).sort.each do |category, pages|
              %li.nav-header{ :class=>page.category =~ /#{category}/i ? 'active' : nil }
                %a{"data-target" => "##{category[2, 10].downcase}Menu", "data-toggle" => "collapse", href: "#"}
                  = category[2, 10]
                  %span{ :class=>page.category=~ /#{category}/i ? 'glyphicon glyphicon-chevron-down' : 'glyphicon glyphicon-chevron-right' }
                %ul.collapse{:class=>page.category =~ /#{category}/i ? 'in' : nil, "id" => "#{category[2, 10].downcase}Menu"}
                  - pages.each do |p|
                    %li
                      %a{ :class=>p.url =~ /#{page.url}/i ? 'active' : nil, :href => p.url } #{p.nav_title}
        .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main
          %ol.breadcrumb
            %li
              %a{href: "/en"} Home
            %li
              %a{href: "/en/#{page.parent_url}"} #{page.breadcrumb}
            %li
              #{page.nav_title}
          ~ content
      .row
        %hr
        %footer
    = partial( 'scripts.html.haml' )
