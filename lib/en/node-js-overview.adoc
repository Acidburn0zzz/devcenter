---
layout: base
category: 03_Languages
breadcrumb: Languages
parent_url: node-js-overview.html
nav_title: Node.js
nav_priority: 30
meta_desc: Node.js Developers - OpenShift Resources to get your Node.js applications hosted in the cloud.
---
= Node.js Overview

[[top]]
[float]
= Node.js Application Hosting
[.lead]
With OpenShift you can easily deploy and run Node.js applications using your favorite frameworks and databases. Want to run a Ghost blog backed by MySQL? Or maybe you're looking for Express and MongoDB? link:https://www.openshift.com/blogs/run-your-nodejs-projects-on-openshift-in-two-simple-steps[If it can run on Red Hat Enterprise Linux 64bit, then it can run on OpenShift]. OpenShift Online currently supports `Node.js 0.6` and `0.10`.

Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for link:https://www.openshift.com/blogs/10-reasons-openshift-is-the-best-place-to-host-your-nodejs-app[data-intensive real-time applications that run across distributed devices].

link:#simplify[Simplify your Node.js deployments] +
link:#node[The Node.js Cartridge]

image::nodejs-logo.png[Node.js logo]

[[simplify]]
== Simplify Your Node.js Deployments
Setting up a fresh Linux environment with Nodejs and MongoDB can be done in a single command:

[source]
--
$ rhc app create MyApp nodejs-0.10 mongodb-2.4
--

Our rhc command line tool allows you to quickly install and configure Node.js, MongoDB, SSHd, and a git repository (for pushing updated code). After running the command, your application will be available at:

[source]
--
http://MyApp-MyDomain.rhcloud.com/
--

Web link:https://www.openshift.com/blogs/launching-applications-with-openshifts-web-based-workflow[workflows for launching new hosted environments] are also available.

link:#top[Back to Top]

[[node]]
== The NodeJS Cartridge
The `nodejs` cartridge provides http://nodejs.org/[Node.JS] on OpenShift.

The cartridge provides a short list of Node.js modules by default. The list is available in `$OPENSHIFT_NODEJS_DIR/versions/0.6/configuration/npm_global_module_list`.
You can also see the file `versions/0.6/configuration/npm_global_module_list` under this directory.

=== Template Repository Layout
[source]
----
node_modules/            Any Node modules packaged with the app <1>
deplist.txt              Deprecated.
package.json             npm package descriptor.
.openshift/              Location for OpenShift specific files
    action_hooks/        See the Action Hooks documentation <2>
    markers/             See the Markers section below
----
<1> See link:http://openshift.github.io/documentation/oo_user_guide.html#nodejs-node_modules-directory[`node_modules`]
<2> link:http://openshift.github.io/documentation/oo_user_guide.html#action-hooks[Action Hooks] documentation

==== Layout Notes
Please leave the `node_modules` and `.openshift` directories but feel free to
create additional directories if needed.

[[nodejs-node_modules-directory]]
==== `node_modules` directory
The `node_modules` directory allows you to package any Node module on which your application depends along with your application.

If you just wish to install module(s) from the npm registry (https://npmjs.org/[npmjs.org]), you can specify the module name(s) and versions in your application's `package.json` file.

==== deplist.txt
This functionality has been deprecated and will soon go away. `package.json` is the preferred method to add dependencies.

==== package.json
npm package descriptor - run `npm help json` for more details.

[NOTE]
====
Among other things, this file contains a list of dependencies
(node modules) to install alongside your application and is processed
every time you `git push` to your OpenShift application.
====

=== Environment Variables
The Node.JS cartridge provides several environment variables to reference for ease of use:

OPENSHIFT_NODEJS_IP:: The IP address used to bind Node.js
OPENSHIFT_NODEJS_PORT:: The Node.js listening port
OPENSHIFT_NODEJS_POLL_INTERVAL:: May be set as a user environment variable to change the default of 1s

=== Markers
Adding marker files to `.openshift/markers` will have the following effects:

[cols="1,3",options="header"]
|===
|Marker |Effect

|hot_deploy
|Disable app restarting during git pushes (see 'Development Mode')
|use_npm
|This will force to run your application using NPM instead of using 'supervisor'
|===

=== Development Mode
When you push your code changes to OpenShift, if you want dynamic reloading
of your javascript files in "development" mode, you can either use the
`hot_deploy` marker or add the following to `package.json`:

[source,json]
----
"scripts": { "start": "supervisor <relative-path-from-repo-to>/server.js" },
----

This will run Node.JS with https://npmjs.org/package/supervisor[Supervisor].

[NOTE]
====
The `hot_deploy` marker is restricted to the supervisor only. Using the
`use_npm` marker, your application will always do a full restart.
====

=== Local Development + Testing
You can also develop and test your Node application locally on your machine
(workstation). In order to do this, you will need to perform some
basic setup - install Node + the npm modules that OpenShift has globally
installed:

. Collect some information about the environment on OpenShift.
.. Get Node.js version information:
+
[source]
--
$ ssh $uuid@$appdns node -v
--
+
.. Get list of globally install npm modules
+
[source]
--
$ ssh $uuid@$appdns npm list -g
--
+
. Ensure that an appropriate version of Node is installed locally. This depends on your application. Using the same version would be preferable in most cases but your mileage may vary with newer versions.
. Install the versions of the Node modules you got in step 1.a. Use -g if you want to install them globally, the better alternative though is to install them in the home directory of the currently logged user on your local machine/workstation.
+
[source]
--
# pushd ~
# npm install [-g] $module_name@$version
# popd
--
+
. Once you have completed the above setup, you can then run your application locally by using any one of these commands:
+
[source]
--
node server.js
npm start -d
supervisor server.js
--

And then iterate on developing and testing your application.

link:#top[Back to top]
